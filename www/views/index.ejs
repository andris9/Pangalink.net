<!DOCTYPE html>
<!-- This webpage uses bootstrap template -->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title><%= title %><% if(pageTitle){%> | <%= pageTitle %><%}%></title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Andris Reinman">

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <!--<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">-->
        <link href="/bootstrap/css/readable.css" rel="stylesheet">
        <link href="/style/highlight.css" rel="stylesheet">
        <!--<link href="/style/generated/theme.css" rel="stylesheet">-->

        <style type="text/css">
            /* Sticky footer styles
            -------------------------------------------------- */

              html,
              body {
                height: 100%;
                /* The html and body elements cannot have any padding or margin. */
                padding-top: 0;
              }

              /* Wrapper for page content to push down footer */
              #wrap {
                min-height: 100%;
                height: auto !important;
                height: 100%;
                /* Negative indent footer by it's height */
                margin: 0 auto -60px;
              }

              /* Set the fixed height of the footer here */
              #push,
              #footer {
                height: 60px;
                /*color: #333333;*/
              }
              #footer a{
                /*color: #333333;*/
              }

              /* Lastly, apply responsive CSS fixes as necessary */
              @media (max-width: 767px) {
                #footer {
                  margin-left: -20px;
                  margin-right: -20px;
                  padding-left: 20px;
                  padding-right: 20px;
                }
              }

              /* Custom page CSS
              -------------------------------------------------- */
              /* Not required for template or sticky footer method. */

              #wrap > .container {
                /* padding-top: 60px; */
              }
              .container .credit {
                margin: 20px 0;
              }

              code {
                font-size: 80%;
              }
        </style>
    </head>
    <body>
      <div id="wrap">
        <div class="navbar navbar-inverse navbar-default">
          <div class="container">
            <div class="navbar-header">
              <a href="/" class="navbar-brand"><span class="glyphicon glyphicon-link"></span> <%= title %></a>
              <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>

            <div class="navbar-collapse collapse" id="navbar-main">
              <ul class="nav navbar-nav">
                <% include mainmenu %>
              </ul>
            </div>
          </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-lg-12">

                    <% if(messages.success.length || messages.error.length || messages.info.length){%>
                    <p>&nbsp;</p>
                    <%}%>

                    <% messages.success.forEach(msg => {%>
                        <div class="alert alert-success">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <%= msg %>
                        </div>
                    <%});%>

                    <% messages.error.forEach(msg => {%>
                        <div class="alert alert-danger">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <%= msg %>
                        </div>
                    <%});%>

                    <% messages.info.forEach(msg => {%>
                        <div class="alert alert-info">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <%= msg %>
                        </div>
                    <%});%>

                    <% include router %>

                </div>
            </div>
        </div> <!-- /container -->

        <!-- Footer
        ================================================== -->
        <div id="push"></div>
      </div>

      <div id="footer" class="navbar">
        <div class="container">
          <p class="muted credit"><% include footer-text %></p>
        </div>
      </div>

      <!-- Le javascript
      ================================================== -->
      <!-- Placed at the end of the document so the pages load faster -->
      <script src="/js/jquery-1.9.1.min.js"></script>
      <script src="/bootstrap/js/bootstrap.min.js"></script>

      <% if(googleAnalyticsID){%>
      <script>
      (function(i, s, o, g, r, a, m) {
    i.GoogleAnalyticsObject = r;
    (i[r] =
        i[r] ||
        function() {
            (i[r].q = i[r].q || []).push(arguments);
        }), (i[r].l = 1 * new Date());
    (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

ga('create', '<%= googleAnalyticsID %>', 'auto');
ga('send', 'pageview');
</script>
      <%}%>

    </body>
</html>
